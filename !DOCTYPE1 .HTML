<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Admin | Seasonal Bites</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
        :root { --primary: #4e342e; --accent: #b8860b; --bg: #f4f1ea; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        #login-gate { position: fixed; top:0; left:0; width:100%; height:100%; background: var(--primary); display: flex; justify-content: center; align-items: center; z-index: 9999; }
        .login-box { background: white; padding: 40px; border-radius: 20px; text-align: center; width: 320px; }
        .container { max-width: 900px; margin: auto; display: none; }
        .box { background: white; padding: 25px; border-radius: 15px; margin-bottom: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 6px solid var(--accent); }
        input, button { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; font-family: inherit; }
        button { background: var(--primary); color: white; border: none; font-weight: 600; cursor: pointer; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .preview-img { width: 50px; height: 50px; object-fit: cover; border-radius: 5px; }
    </style>
</head>
<body>

    <div id="login-gate">
        <div class="login-box">
            <h2>Admin Login</h2>
            <input type="password" id="pass" placeholder="Password">
            <button onclick="checkPass()">Unlock</button>
        </div>
    </div>

    <div class="container" id="admin-content">
        <h1>üõ†Ô∏è Business Master Controller</h1>

        <div class="box" style="border-left-color: #673ab7;">
            <h3>üë§ Shop Identity</h3>
            <input type="text" id="admin-founder" placeholder="Founder Name (e.g. Supriyo Das)">
            <input type="number" id="admin-phone" placeholder="WhatsApp (91XXXXXXXXXX)">
            <button onclick="saveIdentity()" style="background: #673ab7;">Save Identity</button>
        </div>

        <div class="box" style="border-left-color: #2e7d32;">
            <h3>üè¶ Bank Details (BOI)</h3>
            <input type="text" id="admin-acc-name" placeholder="Account Holder Name">
            <input type="text" id="admin-acc-no" placeholder="Account Number">
            <input type="text" id="admin-ifsc" placeholder="IFSC Code">
            <input type="text" id="admin-upi" placeholder="UPI ID (Optional)">
            <button onclick="saveBank()" style="background: #2e7d32;">Save Bank Details</button>
        </div>

        <div class="grid-2">
            <div class="box">
                <h3>üñºÔ∏è Brand Logo</h3>
                <input type="file" id="logo-input" accept="image/*">
                <button onclick="saveLogo()">Update Logo</button>
            </div>
            <div class="box">
                <h3>üì¢ Offer Banner</h3>
                <input type="text" id="off-text" placeholder="Banner Message">
                <button onclick="saveOffer()">Update Banner</button>
            </div>
        </div>

        <div class="box">
            <h3>‚ûï Add Product</h3>
            <input type="text" id="p-name" placeholder="Item Name">
            <div class="grid-2">
                <input type="number" id="p-s" placeholder="Price (1 Pc)">
                <input type="number" id="p-b" placeholder="Price (12 Pcs)">
            </div>
            <input type="file" id="p-img" accept="image/*">
            <button onclick="addProduct()">Add to Shop</button>
        </div>

        <div class="box">
            <h3>üì¶ Current Inventory</h3>
            <div id="inventory-list"></div>
        </div>
    </div>

    <script>
        function checkPass() {
            if(document.getElementById('pass').value === "SUPRIYODAS") {
                document.getElementById('login-gate').style.display = 'none';
                document.getElementById('admin-content').style.display = 'block';
                loadData();
            } else { alert("Wrong Password"); }
        }

        function saveIdentity() {
            localStorage.setItem('sb_founder', document.getElementById('admin-founder').value);
            localStorage.setItem('sb_phone', document.getElementById('admin-phone').value);
            alert("Identity Saved!");
        }

        function saveBank() {
            const bank = {
                name: document.getElementById('admin-acc-name').value,
                no: document.getElementById('admin-acc-no').value,
                ifsc: document.getElementById('admin-ifsc').value,
                upi: document.getElementById('admin-upi').value
            };
            localStorage.setItem('sb_bank', JSON.stringify(bank));
            alert("Bank Details Updated!");
        }

        function saveLogo() {
            const reader = new FileReader();
            reader.onload = (e) => { localStorage.setItem('sb_logo', e.target.result); alert("Logo Saved!"); };
            reader.readAsDataURL(document.getElementById('logo-input').files[0]);
        }

        function saveOffer() {
            localStorage.setItem('sb_offer', JSON.stringify({ text: document.getElementById('off-text').value, bg: "#b8860b" }));
            alert("Banner Saved!");
        }

        function addProduct() {
            const reader = new FileReader();
            reader.onload = (e) => {
                let p = JSON.parse(localStorage.getItem('sb_prods')) || [];
                p.push({ name: document.getElementById('p-name').value, sPrice: document.getElementById('p-s').value, bPrice: document.getElementById('p-b').value, img: e.target.result });
                localStorage.setItem('sb_prods', JSON.stringify(p));
                location.reload();
            };
            reader.readAsDataURL(document.getElementById('p-img').files[0]);
        }

        function loadData() {
            document.getElementById('admin-founder').value = localStorage.getItem('sb_founder') || "";
            document.getElementById('admin-phone').value = localStorage.getItem('sb_phone') || "";
            const b = JSON.parse(localStorage.getItem('sb_bank')) || {};
            document.getElementById('admin-acc-name').value = b.name || "";
            document.getElementById('admin-acc-no').value = b.no || "";
            document.getElementById('admin-ifsc').value = b.ifsc || "";
            document.getElementById('admin-upi').value = b.upi || "";

            const products = JSON.parse(localStorage.getItem('sb_prods')) || [];
            const invDiv = document.getElementById('inventory-list');
            products.forEach((p, i) => {
                invDiv.innerHTML += `<div style="display:flex; justify-content:space-between; padding:10px; border-bottom:1px solid #eee;">
                    <span>${p.name}</span> <button onclick="delP(${i})" style="width:auto; background:red; padding:5px;">Delete</button>
                </div>`;
            });
        }
        function delP(i) {
            let p = JSON.parse(localStorage.getItem('sb_prods'));
            p.splice(i,1); localStorage.setItem('sb_prods', JSON.stringify(p)); location.reload();
        }
    </script>
</body>
</html>